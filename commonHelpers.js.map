{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js"],"sourcesContent":["`use strict`\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst imagesForSearch = document.querySelector(\".imagesInput\")\nconst btn = document.querySelector(\".searchImages\");\nconst photoList = document.querySelector(\".listOfPhotos\")\nconst loader = document.querySelector(\".loader\")\n\nloaderHide();\n\n//Added backend \n\nfunction fetchPhoto() {\n\n\n    const options = new URLSearchParams({\n    key: \"42327867-17db48a54b533eea41b085f18\",\n    q:  imagesForSearch.value,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: true,\n});\n    \n return   fetch(`https://pixabay.com/api/?${options}`)\n    .then((response) => {\n        if (!response.ok) {\n            throw new Error(response.status);\n        }\n        return response.json() ;\n    });\n\n}\n\n//Added button usage\n\nbtn.addEventListener(\"click\", () => {\nphotoList.innerHTML = \"\";\n    loaderShow();\n    setTimeout(() => {\n        fetchPhoto()\n            .then((photos) => {\n                if (imagesForSearch.value.length === 0) {\n                    iziToast.error({\n                        message: \"Sorry, there are no images matching your search query. Please try again!\",\n                        position: \"topRight\",\n                    })\n                } else {\n                    return addElements(photos)\n                }\n            })\n\n            .catch((error) => {\n                console.error(error)\n            })\n\n                loaderHide();\n\n         \n    }, 1500);\n})\n\n\n//Added elements to page\n\nfunction addElements(photos) {\n\n\n    const html = photos.hits\n        .map((photo) => {\n            return `\n            <li class =\"listElement\">\n            <a\n            class =\"largePhotoLink\"\n            href=\"${photo.largeImageURL}\">\n            <img\n            class =\"photo\"\n            src=\"${photo.previewURL}\">\n            </a>\n            <p>Likes: ${photo.likes}</p>\n            <p>Views: ${photo.views}</p>\n            <p>Comments: ${photo.comments}</p>\n            <p>Downloads: ${photo.downloads}</p>\n            </li>\n            `;\n        })\n        .join(\"\");\n    \n    photoList.insertAdjacentHTML(\"beforeend\", html);\n\n    \n\n    //Added simplelightbox \n\n\n    const gallery = new SimpleLightbox('.listElement a', {\n        docClose: false,\n    });\n\n    gallery.refresh();\n}\n\nfunction loaderShow() {\n    \n    loader.style.display = \"block\";\n\n}\n\nfunction loaderHide() {\n    loader.style.display = \"none\";\n}\n\n\n\n"],"names":["imagesForSearch","btn","photoList","loader","loaderHide","fetchPhoto","options","response","loaderShow","photos","iziToast","addElements","error","html","photo","SimpleLightbox"],"mappings":"6vBAMA,MAAMA,EAAkB,SAAS,cAAc,cAAc,EACvDC,EAAM,SAAS,cAAc,eAAe,EAC5CC,EAAY,SAAS,cAAc,eAAe,EAClDC,EAAS,SAAS,cAAc,SAAS,EAE/CC,IAIA,SAASC,GAAa,CAGlB,MAAMC,EAAU,IAAI,gBAAgB,CACpC,IAAK,qCACL,EAAIN,EAAgB,MACpB,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAC,EAEA,OAAS,MAAM,4BAA4BM,CAAO,EAAE,EAChD,KAAMC,GAAa,CAChB,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MACxB,CAAK,CAEL,CAIAN,EAAI,iBAAiB,QAAS,IAAM,CACpCC,EAAU,UAAY,GAClBM,IACA,WAAW,IAAM,CACbH,EAAY,EACP,KAAMI,GAAW,CACd,GAAIT,EAAgB,MAAM,SAAW,EACjCU,EAAS,MAAM,CACX,QAAS,2EACT,SAAU,UAClC,CAAqB,MAED,QAAOC,EAAYF,CAAM,CAE7C,CAAa,EAEA,MAAOG,GAAU,CACd,QAAQ,MAAMA,CAAK,CACnC,CAAa,EAEGR,GAGX,EAAE,IAAI,CACX,CAAC,EAKD,SAASO,EAAYF,EAAQ,CAGzB,MAAMI,EAAOJ,EAAO,KACf,IAAKK,GACK;AAAA;AAAA;AAAA;AAAA,oBAICA,EAAM,aAAa;AAAA;AAAA;AAAA,mBAGpBA,EAAM,UAAU;AAAA;AAAA,wBAEXA,EAAM,KAAK;AAAA,wBACXA,EAAM,KAAK;AAAA,2BACRA,EAAM,QAAQ;AAAA,4BACbA,EAAM,SAAS;AAAA;AAAA,aAGlC,EACA,KAAK,EAAE,EAEZZ,EAAU,mBAAmB,YAAaW,CAAI,EAO9B,IAAIE,EAAe,iBAAkB,CACjD,SAAU,EAClB,CAAK,EAEO,QAAO,CACnB,CAEA,SAASP,GAAa,CAElBL,EAAO,MAAM,QAAU,OAE3B,CAEA,SAASC,GAAa,CAClBD,EAAO,MAAM,QAAU,MAC3B"}